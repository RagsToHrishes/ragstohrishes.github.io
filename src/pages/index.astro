---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero';
import ResearchProject from '../components/ResearchProject';
---

<Layout title="Hrish Leen - Personal Portfolio" description="Personal website and portfolio showcasing research, skills, and experience" usePachinko={true}>
	<section class="landing-grid">
		<div class="hero-col grid-panel">
			<Hero client:load />
		</div>

		<div class="research-col grid-panel">
			<section class="featured-research">
				<div class="container">
					<div class="page-header">
						<h2 class="text-gradient">Featured Research</h2>
					</div>
					<div class="research-preview">
						<ResearchProject 
							client:load
							title="FLASH: Flow-Based Language-Annotated Grasp Synthesis for Dexterous Hands"
							description="FLASH, a method for language-conditioned dexterous grasping that jointly models task intent and physical contact quality for robot hands."
							links={{
								paper: "bit.ly/flashgrasp",
							}}
							authors={["Hrish Leen", "Jeremy A. Collins", "Kunal Aneja", "Nhi Nguyen", "Priyadarshini Tamilselvan", "Sri Siddarth Chakaravarthy P", "Animesh Garg"]}
							acceptedAt="CoRL 2025 Workshop Dexterous Manipulation Spotlight"
							posterUrl="/research/FLASH/poster-3000.jpg"
							posterSources={[
								{ src: "/research/FLASH/poster-1600.jpg", width: 1600 },
								{ src: "/research/FLASH/poster-3000.jpg", width: 3000 },
								{ src: "/research/FLASH/poster-6000.jpg", width: 6000 },
							]}
							mediaType="gif"
							mediaUrl="/research/FLASH/trajectory.gif"
							tags={[]}
						/>
            <ResearchProject 
							client:load
							title="Towards Policy-Aware World Models"
							description="Policy-gradient ESNR predicts downstream policy performance, giving a practical diagnostic for “policy-aware” world models and guiding pretraining, architecture tweaks, and policy choice."
							links={{
								paper: "https://openreview.net/pdf?id=Ro2eG1RRde",
                website: "https://policy-aware.github.io/paper-anon/"
							}}
							authors={["Varun Giridhar", "Ignat Georgiev", "Hrish Leen", "Nicklas Hansen", "Animesh Garg"]}
							acceptedAt="Preprint"
							mediaType="gif"
							mediaUrl="public/research/Policy-Aware-WM/tpwm.gif"
							tags={[]}
						/>
						<ResearchProject 
							client:load
							title="Dexterous Learning for Dexterous Robot Grasping - A Survey"
							description="A comprehensive survey of deep learning approaches for dexterous robotic grasping, emphasizing recent progress enabled by multi-modal models and data-driven techniques."
							links={{
								paper: "bit.ly/graspSurvey",
							}}
							authors={["Hrish Leen", "Kunal Aneja", "Chetan Reddy", "Priyadarshini Tamilselvan", "Nhi Nguyen", "Sri Siddarth Chakaravarthy", "Jeremy Collins", "Miroslav Bogdanovic", "Animesh Garg"]}
							acceptedAt="Journal Preprint"
							mediaType="image"
							mediaUrl="/research/Survey/OverallFigure.png"
							tags={[]}
						/>

						<div class="view-all-research">
							<a href="/research" class="btn btn-primary">View All Research Projects</a>
						</div>
					</div>
				</div>
			</section>
		</div>
	</section>
</Layout>

<style>
  /* Base: two-column split with fixed viewport height */
  .landing-grid {
    display: grid;
    grid-template-columns: 0.4fr 1fr;
    gap: var(--spacing-xl);
    height: 70vh;
    max-height: 70vh;
    background: transparent;
    align-items: stretch;
    margin-top: var(--spacing-2xl);
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    overflow: hidden; /* inner panels provide scroll on desktop */
  }

  /* Shared panel styling */
  .grid-panel {
    background: rgba(0, 0, 0, 0.2);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    backdrop-filter: blur(6px);
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0; /* allow inner scrollers */
    overflow: hidden;
  }

  /* Hero column scrolls on desktop */
  .hero-col {
    overflow-y: auto;
    min-height: 0;
    -webkit-overflow-scrolling: touch;
  }

  /* Research column: only inner list scrolls on desktop */
  .research-col {
    gap: var(--spacing-xl);
    min-height: 0;
    overflow: hidden; /* panel itself doesn't scroll */
  }

  .featured-research {
    background: transparent;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
    flex: 1 1 auto;
    min-height: 0;
    overflow: hidden;
  }

  .featured-research .container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
    flex: 1 1 auto;
    min-height: 0;
    overflow: hidden;
  }

  /* List of research cards: single scroller on desktop */
  .research-preview {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xl);
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    padding-right: calc(var(--spacing-sm) + 4px);
  }

  .page-header {
    text-align: center;
    margin-bottom: var(--spacing-xl);
  }

  .page-header h2 {
    margin-bottom: var(--spacing-md);
    color: #FFB366;
    font-weight: 900;
    text-shadow: 0 6px 12px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 179, 102, 0.5);
  }

  .page-header p {
    color: #FFB366;
    font-weight: 600;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  }

  .view-all-research {
    text-align: center;
    margin-top: var(--spacing-2xl);
  }

  /* Mobile/tablet: stack, no inner scroll, cards push naturally */
  @media (max-width: 1024px) {
    .landing-grid {
      grid-template-columns: 1fr;
      height: auto;
      max-height: none;
      overflow: visible;
    }

    .grid-panel {
      height: auto;
      min-height: auto;
      overflow: visible;
      /* Reduce padding on small viewports to fit content */
      padding: var(--spacing-lg);
    }

    .hero-col,
    .research-col {
      overflow: visible;
    }

    .featured-research,
    .featured-research .container {
      overflow: visible;
      min-height: auto;
      flex: 0 1 auto;
    }

    .research-preview {
      overflow: visible; /* allow cards to define height */
      min-height: auto;
      padding-right: 0;
      flex: 0 1 auto;
    }
  }

  /* Short viewport heights: also remove inner scroll so cards expand */
  @media (max-height: 820px) {
    .landing-grid {
      /* Do not force two columns on narrow screens */
      height: auto;
      max-height: none;
      overflow: visible;
    }

    .grid-panel {
      height: auto;
      min-height: auto;
      overflow: visible;
    }

    .hero-col,
    .research-col {
      overflow: visible;
    }

    .featured-research,
    .featured-research .container {
      overflow: visible;
      min-height: auto;
      flex: 0 1 auto;
    }

    .research-preview {
      overflow: visible;
      min-height: auto;
      padding-right: 0;
      flex: 0 1 auto;
    }
  }

  /* On short heights but wide screens, keep two columns */
  @media (max-height: 820px) and (min-width: 1025px) {
    .landing-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
</style>
